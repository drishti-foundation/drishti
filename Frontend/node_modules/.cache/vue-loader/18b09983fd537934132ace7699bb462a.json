{"remainingRequest":"/Users/anirudhchinta/drishti/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anirudhchinta/drishti/Frontend/src/views/Demo.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/anirudhchinta/drishti/Frontend/src/views/Demo.vue","mtime":1727631613578},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgbWFwR2V0dGVycyB9IGZyb20gJ3Z1ZXgnOwoKaW1wb3J0IENoZWNrQm94IGZyb20gJ0AvY29tcG9uZW50cy9DaGVja0JveC52dWUnOwppbXBvcnQgY2xpZW50IGZyb20gJ0Avc3RvcmUvY2xpZW50JzsKaW1wb3J0IExhbmd1YWdlIGZyb20gJ0AvY29uc3RhbnRzJzsKCmludGVyZmFjZSBDRGF0YSB7CiAgZmlsZTogRmlsZSB8IG51bGw7CiAgcHJvZ3Jlc3M6IHN0cmluZzsKICBkb3dubG9hZExpbms6IHN0cmluZzsKICBsYW5nOiBMYW5ndWFnZTsKICBMYW5ndWFnZTogdHlwZW9mIExhbmd1YWdlOwp9CgppbnRlcmZhY2UgQ01ldGhvZHMgewogIGFkZEZpbGU6IChmaWxlczogRmlsZVtdKSA9PiB2b2lkOwogIGNvbnZlcnRQREY6ICgpID0+IHZvaWQ7Cn0KCmludGVyZmFjZSBDQ29tcHV0ZWQgewogIHBWYWx1ZTogc3RyaW5nOwogIGlzTG9nZ2VkaW46IGJvb2xlYW47Cn0KCmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQ8Q0RhdGEsIENNZXRob2RzLCBDQ29tcHV0ZWQ+KHsKICBuYW1lOiAnZGVtbycsCiAgZGF0YTogKCkgPT4gKHsKICAgIGZpbGU6IG51bGwsCiAgICBwcm9ncmVzczogJycsCiAgICBkb3dubG9hZExpbms6ICcnLAogICAgbGFuZzogTGFuZ3VhZ2UuRW5nLAogICAgTGFuZ3VhZ2UsCiAgfSksCiAgbWV0aG9kczogewogICAgYXN5bmMgY29udmVydFBERigpIHsKICAgICAgaWYgKHRoaXMuZmlsZSA9PT0gbnVsbCkgcmV0dXJuOwogICAgICB0cnkgewogICAgICAgIGNvbnN0IGRhdGEgPSBuZXcgRm9ybURhdGEoKTsKCiAgICAgICAgZGF0YS5hcHBlbmQoJ2ZpbGUnLCB0aGlzLmZpbGUpOwoKICAgICAgICB0aGlzLnByb2dyZXNzID0gJ0NvbnZlcnRpbmcuLi4nOwogICAgICAgIHRoaXMuZG93bmxvYWRMaW5rID0gJyc7CgogICAgICAgIGNvbnN0IGhlYWRlcnM6IHsgW2tleTogc3RyaW5nXTogYW55IH0gPSB7fTsKCiAgICAgICAgY29uc3Qgand0ID0gYXdhaXQgY2xpZW50LmF1dGhlbnRpY2F0aW9uLmdldEFjY2Vzc1Rva2VuKCk7CgogICAgICAgIGlmIChqd3QpIHsKICAgICAgICAgIGhlYWRlcnMuQXV0aG9yaXphdGlvbiA9IGBCZWFyZXIgJHtqd3R9YDsKICAgICAgICB9CgogICAgICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goYC9icmFpbGxlP2xhbmc9JHt0aGlzLmxhbmd9YCwgewogICAgICAgICAgbWV0aG9kOiAnUE9TVCcsCiAgICAgICAgICBib2R5OiBkYXRhLAogICAgICAgICAgaGVhZGVycywKICAgICAgICB9KTsKCiAgICAgICAgY29uc3QgcmVzSlNPTiA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTsKCiAgICAgICAgaWYgKCFyZXNwb25zZS5vaykgewogICAgICAgICAgdGhyb3cgcmVzSlNPTjsKICAgICAgICB9CgogICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAnJzsKICAgICAgICB0aGlzLmRvd25sb2FkTGluayA9IHJlc0pTT04ucm91dGU7CiAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICBjb25zb2xlLmVycm9yKGUpOwogICAgICAgIHRoaXMucHJvZ3Jlc3MgPSAnJzsKICAgICAgICB0aGlzLiRub3RpZnkoewogICAgICAgICAgdGl0bGU6ICdGYWlsZWQgdG8gY29udmVydCcsCiAgICAgICAgICB0ZXh0OiBlLm1lc3NhZ2UsCiAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgYWRkRmlsZShbZmlsZV0pIHsKICAgICAgdGhpcy5maWxlID0gZmlsZSA/PyBudWxsOwogICAgfSwKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsnaXNMb2dnZWRpbiddKSwKICAgIHBWYWx1ZSgpIHsKICAgICAgaWYgKHRoaXMuZmlsZSkgewogICAgICAgIHJldHVybiBgVXBsb2FkZWQgRmlsZTogJHt0aGlzLmZpbGUubmFtZX1gOwogICAgICB9CiAgICAgIHJldHVybiAnJzsKICAgIH0sCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBDaGVja0JveCwKICB9LAp9KTsK"},{"version":3,"sources":["Demo.vue"],"names":[],"mappings":";AA0DA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Demo.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"nav-bar\">\n      <router-link class=\"logo\" to=\"/\">\n        <svg viewBox=\"0 0 50 100\" class=\"back\">\n          <path d=\"M50 0 L0 50 L50 100\" fill=\"transparent\" stroke=\"white\" stroke-width=\"10\" />\n        </svg>\n        <img src=\"@/assets/drishti.png\" alt=\"drishti logo\" />\n      </router-link>\n      <div class=\"btn-wrapper\">\n        <check-box\n          name=\"English Braille\"\n          :checked=\"lang === Language.Eng\"\n          @click=\"lang = Language.Eng\"\n        />\n        <check-box\n          name=\"Hindi Braille\"\n          :checked=\"lang === Language.Hin\"\n          @click=\"lang = Language.Hin\"\n        />\n      </div>\n    </div>\n    <main class=\"demo\">\n      <div\n        class=\"file-drop\"\n        title=\"Drag and drop or click to upload\"\n        @click=\"$refs.input.click()\"\n        @drop.prevent=\"addFile($event.dataTransfer.files)\"\n        @dragover.prevent\n      >\n        <img src=\"@/assets/upload.png\" alt=\"Upload a file\" />\n        <input\n          type=\"file\"\n          name=\"file\"\n          ref=\"input\"\n          @input=\"addFile($event.target.files)\"\n          style=\"display: none;\"\n        />\n      </div>\n      <p class=\"file-name\">{{ pValue }}</p>\n      <button\n        aria-label=\"Submit for translation\"\n        class=\"gbtn\"\n        type=\"submit\"\n        @click=\"convertPDF\"\n        :disabled=\"file === null\"\n      >\n        Submit\n      </button>\n      <p class=\"file-name\">{{ progress }}</p>\n      <a v-if=\"downloadLink.length\" download class=\"gbtn\" :href=\"`/${downloadLink}`\">\n        Download\n      </a>\n    </main>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue';\nimport { mapGetters } from 'vuex';\n\nimport CheckBox from '@/components/CheckBox.vue';\nimport client from '@/store/client';\nimport Language from '@/constants';\n\ninterface CData {\n  file: File | null;\n  progress: string;\n  downloadLink: string;\n  lang: Language;\n  Language: typeof Language;\n}\n\ninterface CMethods {\n  addFile: (files: File[]) => void;\n  convertPDF: () => void;\n}\n\ninterface CComputed {\n  pValue: string;\n  isLoggedin: boolean;\n}\n\nexport default Vue.extend<CData, CMethods, CComputed>({\n  name: 'demo',\n  data: () => ({\n    file: null,\n    progress: '',\n    downloadLink: '',\n    lang: Language.Eng,\n    Language,\n  }),\n  methods: {\n    async convertPDF() {\n      if (this.file === null) return;\n      try {\n        const data = new FormData();\n\n        data.append('file', this.file);\n\n        this.progress = 'Converting...';\n        this.downloadLink = '';\n\n        const headers: { [key: string]: any } = {};\n\n        const jwt = await client.authentication.getAccessToken();\n\n        if (jwt) {\n          headers.Authorization = `Bearer ${jwt}`;\n        }\n\n        const response = await fetch(`/braille?lang=${this.lang}`, {\n          method: 'POST',\n          body: data,\n          headers,\n        });\n\n        const resJSON = await response.json();\n\n        if (!response.ok) {\n          throw resJSON;\n        }\n\n        this.progress = '';\n        this.downloadLink = resJSON.route;\n      } catch (e) {\n        console.error(e);\n        this.progress = '';\n        this.$notify({\n          title: 'Failed to convert',\n          text: e.message,\n          type: 'error',\n        });\n      }\n    },\n    addFile([file]) {\n      this.file = file ?? null;\n    },\n  },\n  computed: {\n    ...mapGetters(['isLoggedin']),\n    pValue() {\n      if (this.file) {\n        return `Uploaded File: ${this.file.name}`;\n      }\n      return '';\n    },\n  },\n  components: {\n    CheckBox,\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/styles/vars.scss';\n\n.demo {\n  @include flex-box($just: flex-start, $dir: column);\n\n  background: $gradient;\n  color: white;\n  height: var(--vh);\n  width: 100vw;\n  padding-top: 6rem;\n\n  .gbtn {\n    margin: 4vh 0;\n  }\n}\n\n.file-drop {\n  @include flex-box;\n  position: relative;\n  height: 40vh;\n  width: 50vw;\n  margin: 5vh auto;\n  margin-top: 7vh;\n  border: 5px dashed white;\n  border-radius: 2vh;\n  background-repeat: no-repeat;\n  background-position: center;\n  user-select: none;\n\n  img {\n    height: 30%;\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n}\n\n.file-name {\n  font-size: 1.3rem;\n}\n\n@media screen and (max-width: 750px) {\n  .file-drop {\n    width: 70vw;\n    height: 25vh;\n\n    img {\n      height: 40%;\n    }\n  }\n}\n</style>\n"]}]}