{"remainingRequest":"/Users/anirudhchinta/drishti/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anirudhchinta/drishti/Frontend/src/views/Admin.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/anirudhchinta/drishti/Frontend/src/views/Admin.vue","mtime":1727631613578},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKCmltcG9ydCBMb2FkaW5nU3Bpbm5lciBmcm9tICdAL2NvbXBvbmVudHMvTG9hZGluZ1NwaW5uZXIudnVlJzsKCmludGVyZmFjZSBDRGF0YSB7CiAgb3RwOiBzdHJpbmcgfCBudWxsOwogIGlzTG9hZGluZzogYm9vbGVhbjsKfQoKaW50ZXJmYWNlIENNZXRob2RzIHsKICBnZW5lcmF0ZU9UUDogKCkgPT4gdm9pZDsKfQoKaW50ZXJmYWNlIENDb21wdXRlZCB7CiAgdXNlcm5hbWU6IHN0cmluZyB8IG51bGw7Cn0KCmV4cG9ydCBkZWZhdWx0IFZ1ZS5leHRlbmQ8Q0RhdGEsIENNZXRob2RzLCBDQ29tcHV0ZWQ+KHsKICBuYW1lOiAnYWRtaW4nLAogIGRhdGE6ICgpID0+ICh7CiAgICBvdHA6IG51bGwsCiAgICBpc0xvYWRpbmc6IGZhbHNlLAogIH0pLAogIG1ldGhvZHM6IHsKICAgIGFzeW5jIGdlbmVyYXRlT1RQKCkgewogICAgICB0aGlzLmlzTG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMub3RwID0gKGF3YWl0IHRoaXMuJHN0b3JlLnN0YXRlLmNsaWVudC5zZXJ2aWNlKCdhZG1pbi1mdW5jJykuZ2V0KCdvdHAnKSkub3RwOwogICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlOwogICAgfSwKICB9LAogIGNvbXB1dGVkOiBtYXBTdGF0ZShbJ3VzZXJuYW1lJ10pLAogIG1vdW50ZWQoKSB7CiAgICBpZiAodGhpcy51c2VybmFtZSAhPT0gJ2FkbWluJykgewogICAgICB0aGlzLiRyb3V0ZXIucHVzaCgnLycpOwogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgTG9hZGluZ1NwaW5uZXIsCiAgfSwKfSk7Cg=="},{"version":3,"sources":["Admin.vue"],"names":[],"mappings":";AAwBA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Admin.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div class=\"admin\">\n    <nav class=\"nav-bar\">\n      <router-link class=\"logo\" to=\"/\">\n        <svg viewBox=\"0 0 50 100\" class=\"back\">\n          <path d=\"M50 0 L0 50 L50 100\" fill=\"transparent\" stroke=\"white\" stroke-width=\"10\" />\n        </svg>\n        <img src=\"@/assets/drishti.png\" alt=\"drishti logo\" />\n      </router-link>\n    </nav>\n    <main>\n      <h1>Admin Console</h1>\n      <button class=\"btn\" @click=\"generateOTP()\">\n        <loading-spinner v-if=\"isLoading\" />\n        <template v-else>\n          Generate OTP\n        </template>\n      </button>\n      <p v-if=\"otp\" class=\"otp\">{{ otp }}</p>\n    </main>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue';\nimport { mapState } from 'vuex';\n\nimport LoadingSpinner from '@/components/LoadingSpinner.vue';\n\ninterface CData {\n  otp: string | null;\n  isLoading: boolean;\n}\n\ninterface CMethods {\n  generateOTP: () => void;\n}\n\ninterface CComputed {\n  username: string | null;\n}\n\nexport default Vue.extend<CData, CMethods, CComputed>({\n  name: 'admin',\n  data: () => ({\n    otp: null,\n    isLoading: false,\n  }),\n  methods: {\n    async generateOTP() {\n      this.isLoading = true;\n      this.otp = (await this.$store.state.client.service('admin-func').get('otp')).otp;\n      this.isLoading = false;\n    },\n  },\n  computed: mapState(['username']),\n  mounted() {\n    if (this.username !== 'admin') {\n      this.$router.push('/');\n    }\n  },\n  components: {\n    LoadingSpinner,\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n$max-width: 70vw;\n\n.admin {\n  width: $max-width;\n  height: var(--vh);\n  margin: 0 auto;\n\n  main {\n    position: relative;\n    top: 5rem;\n    padding: 2rem 0;\n  }\n\n  h1 {\n    font-size: 3.5rem;\n    margin: 1rem 0;\n  }\n\n  .btn {\n    margin: 0.5rem 0;\n  }\n}\n</style>\n"]}]}