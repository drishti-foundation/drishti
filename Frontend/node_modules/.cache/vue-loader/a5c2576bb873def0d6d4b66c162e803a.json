{"remainingRequest":"/Users/anirudhchinta/drishti/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anirudhchinta/drishti/Frontend/src/components/LoginSignUp.vue?vue&type=script&lang=ts","dependencies":[{"path":"/Users/anirudhchinta/drishti/Frontend/src/components/LoginSignUp.vue","mtime":1727631613576},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/babel-loader/lib/index.js","mtime":456789000000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/ts-loader/index.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IHsgbWFwQWN0aW9ucywgbWFwU3RhdGUgfSBmcm9tICd2dWV4JzsKCmltcG9ydCBMb2FkaW5nU3Bpbm5lciBmcm9tICcuL0xvYWRpbmdTcGlubmVyLnZ1ZSc7Cgpjb25zdCBvdHBUaXRsZSA9IGBcCkR1ZSB0byBsaW1pdGVkIHRyYW5zbGF0aW9uIGNhcGFiaWxpdGllcywgSGluZGkgQnJhaWxsZSBoYXMgYmVlbiBsaW1pdGVkIHRvIHNlbGVjdCBOR09zLgpFbmdsaXNoIEJyYWlsbGUgaXMgYXZhaWxhYmxlIGZvciBldmVyeW9uZSByZWdhcmRsZXNzIGlmIHlvdSBoYXZlIGFuIGFjY291bnQgb3Igbm90LgpJZiB5b3Ugd2FudCBIaW5kaSBCcmFpbGxlLCBjb250YWN0IHVzIGF0IG1haWwuZHJpc2h0aWZvdW5kYXRpb25AZ21haWwuY29tLmA7CgppbnRlcmZhY2UgQ0RhdGEgewogIHNob3dMb2dpbjogYm9vbGVhbjsKICB1c2VybmFtZTogc3RyaW5nOwogIHBhc3N3b3JkOiBzdHJpbmc7CiAgb3RwOiBzdHJpbmc7CiAgc2hvd1Bhc3N3b3JkOiBib29sZWFuOwogIG90cFRpdGxlOiBzdHJpbmc7Cn0KCmludGVyZmFjZSBDTWV0aG9kcyB7CiAgbG9naW46IChjcmVkZW50aWFscz86IENyZWRlbnRpYWxzKSA9PiBQcm9taXNlPGJvb2xlYW4+OwogIHNpZ251cDogKHBheWxvYWQ6IFNpZ25VcFBheWxvYWQpID0+IFByb21pc2U8Ym9vbGVhbj47CiAgaGFuZGxlU3VibWl0OiAoKSA9PiB2b2lkOwp9CgppbnRlcmZhY2UgQ0NvbXB1dGVkIHsKICBwYWdlTmFtZTogc3RyaW5nOwogIGlzRGlzYWJsZWQ6IGJvb2xlYW47CiAgaXNMb2FkaW5nOiBib29sZWFuOwp9CgppbnRlcmZhY2UgQ1Byb3BzIHsKICBzaG93OiBib29sZWFuOwp9CgpleHBvcnQgZGVmYXVsdCBWdWUuZXh0ZW5kPENEYXRhLCBDTWV0aG9kcywgQ0NvbXB1dGVkLCBDUHJvcHM+KHsKICBuYW1lOiAnbG9naW4tc2lnbnVwJywKICBkYXRhOiAoKSA9PiAoewogICAgc2hvd0xvZ2luOiB0cnVlLAogICAgdXNlcm5hbWU6ICcnLAogICAgcGFzc3dvcmQ6ICcnLAogICAgb3RwOiAnJywKICAgIHNob3dQYXNzd29yZDogZmFsc2UsCiAgICBvdHBUaXRsZSwKICB9KSwKICBtZXRob2RzOiB7CiAgICAuLi5tYXBBY3Rpb25zKFsnbG9naW4nLCAnc2lnbnVwJ10pLAogICAgYXN5bmMgaGFuZGxlU3VibWl0KCkgewogICAgICBjb25zdCBjcmVkZW50aWFscyA9IHsgdXNlcm5hbWU6IHRoaXMudXNlcm5hbWUudHJpbSgpLCBwYXNzd29yZDogdGhpcy5wYXNzd29yZC50cmltKCkgfTsKICAgICAgbGV0IHN1Y2Nlc3MgPSBmYWxzZTsKICAgICAgaWYgKHRoaXMuc2hvd0xvZ2luKSB7CiAgICAgICAgc3VjY2VzcyA9IGF3YWl0IHRoaXMubG9naW4oY3JlZGVudGlhbHMpOwogICAgICB9IGVsc2UgewogICAgICAgIHN1Y2Nlc3MgPSBhd2FpdCB0aGlzLnNpZ251cCh7IGNyZWRlbnRpYWxzLCBvdHA6IHRoaXMub3RwLnRyaW0oKSB9KTsKICAgICAgfQogICAgICBpZiAoc3VjY2VzcykgewogICAgICAgIHRoaXMuJGVtaXQoJ2Nsb3NlJyk7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoWydpc0xvYWRpbmcnXSksCiAgICBwYWdlTmFtZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc2hvd0xvZ2luID8gJ0xvZ2luJyA6ICdTaWduIFVwJzsKICAgIH0sCiAgICBpc0Rpc2FibGVkKCkgewogICAgICBjb25zdCB1c2VyRGF0YVZhbGlkID0gKHRoaXMudXNlcm5hbWUudHJpbSgpLmxlbmd0aCAmJiB0aGlzLnBhc3N3b3JkLnRyaW0oKS5sZW5ndGgpID09PSAwOwogICAgICBpZiAodGhpcy5zaG93TG9naW4pIHsKICAgICAgICByZXR1cm4gdXNlckRhdGFWYWxpZDsKICAgICAgfQoKICAgICAgcmV0dXJuIHVzZXJEYXRhVmFsaWQgfHwgdGhpcy5vdHAudHJpbSgpLmxlbmd0aCA9PT0gMDsKICAgIH0sCiAgfSwKICBwcm9wczogewogICAgc2hvdzogQm9vbGVhbiwKICB9LAogIHdhdGNoOiB7CiAgICBzaG93KHNob3cpIHsKICAgICAgaWYgKCFzaG93KSB7CiAgICAgICAgdGhpcy51c2VybmFtZSA9ICcnOwogICAgICAgIHRoaXMucGFzc3dvcmQgPSAnJzsKICAgICAgICB0aGlzLm90cCA9ICcnOwogICAgICAgIHRoaXMuc2hvd1Bhc3N3b3JkID0gZmFsc2U7CiAgICAgIH0KICAgIH0sCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBMb2FkaW5nU3Bpbm5lciwKICB9LAp9KTsK"},{"version":3,"sources":["LoginSignUp.vue"],"names":[],"mappings":";AAqFA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"LoginSignUp.vue","sourceRoot":"src/components","sourcesContent":["<template>\n  <transition name=\"form-wrapper\">\n    <div v-if=\"show\" class=\"form-wrapper\" @click=\"$emit('close')\">\n      <form :about=\"`${pageName} Form`\" @click.stop @submit.prevent=\"handleSubmit\" class=\"form\">\n        <div class=\"tab-bar\">\n          <button @click.prevent=\"showLogin = true\" :class=\"{ sel: showLogin }\">\n            Login\n          </button>\n          <button @click.prevent=\"showLogin = false\" :class=\"{ sel: !showLogin }\">\n            Sign Up\n          </button>\n          <button @click.prevent=\"$emit('close')\" class=\"close\">\n            Ã—\n          </button>\n          <span\n            class=\"highlight\"\n            :style=\"{\n              width: showLogin ? '4ch' : '6ch',\n              transform: `translateX(${showLogin ? '0' : '7'}ch)`,\n            }\"\n          ></span>\n        </div>\n        <h3>{{ pageName }}</h3>\n        <label for=\"username\" placeholder=\"Username\">\n          Username\n        </label>\n        <input\n          title=\"Username\"\n          name=\"username\"\n          id=\"username\"\n          placeholder=\"Username\"\n          type=\"text\"\n          v-model=\"username\"\n          required\n        />\n        <div class=\"password\">\n          <label for=\"password\">Password</label>\n          <button @click.prevent=\"showPassword = !showPassword\">\n            {{ showPassword ? 'Hide' : 'Show' }}\n          </button>\n        </div>\n        <input\n          title=\"Password\"\n          name=\"password\"\n          placeholder=\"Password\"\n          id=\"password\"\n          :type=\"showPassword ? 'text' : 'password'\"\n          v-model=\"password\"\n          autoCapitalize=\"false\"\n          autoComplete=\"false\"\n          autoCorrect=\"false\"\n          autoSave=\"false\"\n          required\n        />\n        <transition name=\"otp\">\n          <div v-if=\"!showLogin\" class=\"otp\">\n            <label for=\"otp\" placeholder=\"OTP\">\n              OTP\n              <span :title=\"otpTitle\" class=\"question\">\n                ?\n              </span>\n            </label>\n            <input\n              title=\"OTP\"\n              name=\"otp\"\n              id=\"otp\"\n              placeholder=\"OTP\"\n              type=\"text\"\n              v-model=\"otp\"\n              required\n            />\n          </div>\n        </transition>\n        <button class=\"btn\" type=\"submit\" :disabled=\"isDisabled\">\n          <loading-spinner v-if=\"isLoading\" />\n          <template v-else>\n            {{ pageName }}\n          </template>\n        </button>\n      </form>\n    </div>\n  </transition>\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue';\nimport { mapActions, mapState } from 'vuex';\n\nimport LoadingSpinner from './LoadingSpinner.vue';\n\nconst otpTitle = `\\\nDue to limited translation capabilities, Hindi Braille has been limited to select NGOs.\nEnglish Braille is available for everyone regardless if you have an account or not.\nIf you want Hindi Braille, contact us at mail.drishtifoundation@gmail.com.`;\n\ninterface CData {\n  showLogin: boolean;\n  username: string;\n  password: string;\n  otp: string;\n  showPassword: boolean;\n  otpTitle: string;\n}\n\ninterface CMethods {\n  login: (credentials?: Credentials) => Promise<boolean>;\n  signup: (payload: SignUpPayload) => Promise<boolean>;\n  handleSubmit: () => void;\n}\n\ninterface CComputed {\n  pageName: string;\n  isDisabled: boolean;\n  isLoading: boolean;\n}\n\ninterface CProps {\n  show: boolean;\n}\n\nexport default Vue.extend<CData, CMethods, CComputed, CProps>({\n  name: 'login-signup',\n  data: () => ({\n    showLogin: true,\n    username: '',\n    password: '',\n    otp: '',\n    showPassword: false,\n    otpTitle,\n  }),\n  methods: {\n    ...mapActions(['login', 'signup']),\n    async handleSubmit() {\n      const credentials = { username: this.username.trim(), password: this.password.trim() };\n      let success = false;\n      if (this.showLogin) {\n        success = await this.login(credentials);\n      } else {\n        success = await this.signup({ credentials, otp: this.otp.trim() });\n      }\n      if (success) {\n        this.$emit('close');\n      }\n    },\n  },\n  computed: {\n    ...mapState(['isLoading']),\n    pageName() {\n      return this.showLogin ? 'Login' : 'Sign Up';\n    },\n    isDisabled() {\n      const userDataValid = (this.username.trim().length && this.password.trim().length) === 0;\n      if (this.showLogin) {\n        return userDataValid;\n      }\n\n      return userDataValid || this.otp.trim().length === 0;\n    },\n  },\n  props: {\n    show: Boolean,\n  },\n  watch: {\n    show(show) {\n      if (!show) {\n        this.username = '';\n        this.password = '';\n        this.otp = '';\n        this.showPassword = false;\n      }\n    },\n  },\n  components: {\n    LoadingSpinner,\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/styles/vars.scss';\n\n$greyed: #444444;\n\n.form-wrapper {\n  @include flex-box;\n\n  position: fixed;\n  width: 100%;\n  height: var(--vh);\n  z-index: 100;\n  background: #00000069;\n\n  &-enter-active,\n  &-leave-active {\n    transition: 0.5s;\n  }\n  &-enter,\n  &-leave-to {\n    background: #00000000;\n\n    .form {\n      transform: translateY(calc(-55% - 50vh));\n    }\n  }\n}\n\n.form {\n  padding: 2rem 3.5rem;\n  background-color: $lbg;\n  box-shadow: 0.4rem 0.6rem 0.8rem #0000001a;\n  width: min-content;\n  border-radius: 1rem;\n  transform: translateY(0);\n  transition: 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);\n\n  label {\n    font-weight: 600;\n    color: currentColor;\n    font-size: 1.3rem;\n    color: $greyed;\n  }\n\n  input {\n    display: block;\n    margin-top: 0.5rem;\n    margin-bottom: 1.5rem;\n    background-color: white;\n    border-radius: 0.3rem;\n    padding: 1ch;\n    font-size: 1.1rem;\n    border: 2px solid rgb(221, 221, 221);\n\n    &:focus {\n      border: 2px solid black !important;\n    }\n\n    &::placeholder {\n      font-size: 1rem;\n    }\n  }\n}\n\n.tab-bar {\n  margin-bottom: 1rem;\n  position: relative;\n\n  button {\n    color: $greyed;\n    text-align: left;\n    width: 8ch;\n    font-size: 0.9rem;\n    font-weight: 500;\n    cursor: pointer;\n\n    &.sel,\n    &:hover {\n      color: black;\n    }\n\n    &:focus {\n      border: none !important;\n    }\n  }\n\n  .close {\n    font-size: 1.1rem;\n    margin-left: auto;\n    display: inline-block;\n    position: absolute;\n    right: 0;\n    width: min-content;\n  }\n\n  .highlight {\n    transition: 0.4s cubic-bezier(0.215, 0.61, 0.355, 1);\n    width: 6ch;\n    margin-top: 2px;\n    height: 4px;\n    background: $highlight;\n    display: block;\n  }\n}\n\nh3 {\n  font-size: 2rem;\n  margin-bottom: 1.5rem;\n}\n.password {\n  @include flex-box(space-between);\n  color: $greyed;\n\n  button {\n    color: currentColor;\n    font-weight: 600;\n    cursor: pointer;\n\n    &:focus {\n      border: none !important;\n    }\n  }\n}\n\n.otp {\n  overflow: hidden;\n  transition: 0.4s cubic-bezier(0.215, 0.61, 0.355, 1);\n  transform: translateX(0);\n  height: 6.2rem;\n\n  &-enter,\n  &-leave-to {\n    transform: translateX(calc(100% + 7rem));\n    height: 0;\n  }\n}\n\n.question {\n  font-size: 0.7rem;\n  color: $greyed;\n  border: 1px solid $greyed;\n  border-radius: 50%;\n  width: 1rem;\n  height: 1rem;\n  display: inline-block;\n  text-align: center;\n  margin-left: 0.5rem;\n}\n\n.btn {\n  margin-top: 0.5rem;\n  margin-bottom: 0.8rem;\n  width: 11ch;\n}\n\n@keyframes from-right {\n  from {\n    transform: translateX(calc(100% + 7rem));\n    height: 0;\n  }\n  to {\n    transform: translateX(0);\n    height: 6.2rem;\n  }\n}\n</style>\n"]}]}