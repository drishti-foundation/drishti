{"remainingRequest":"/Users/anirudhchinta/drishti/Frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/anirudhchinta/drishti/Frontend/src/views/Demo.vue?vue&type=style&index=0&id=5ad1f0c6&lang=scss&scoped=true","dependencies":[{"path":"/Users/anirudhchinta/drishti/Frontend/src/views/Demo.vue","mtime":1727631613578},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/css-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/vue-loader/lib/loaders/stylePostLoader.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/postcss-loader/src/index.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/sass-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/anirudhchinta/drishti/Frontend/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CkBpbXBvcnQgJ0Avc3R5bGVzL3ZhcnMuc2Nzcyc7CgouZGVtbyB7CiAgQGluY2x1ZGUgZmxleC1ib3goJGp1c3Q6IGZsZXgtc3RhcnQsICRkaXI6IGNvbHVtbik7CgogIGJhY2tncm91bmQ6ICRncmFkaWVudDsKICBjb2xvcjogd2hpdGU7CiAgaGVpZ2h0OiB2YXIoLS12aCk7CiAgd2lkdGg6IDEwMHZ3OwogIHBhZGRpbmctdG9wOiA2cmVtOwoKICAuZ2J0biB7CiAgICBtYXJnaW46IDR2aCAwOwogIH0KfQoKLmZpbGUtZHJvcCB7CiAgQGluY2x1ZGUgZmxleC1ib3g7CiAgcG9zaXRpb246IHJlbGF0aXZlOwogIGhlaWdodDogNDB2aDsKICB3aWR0aDogNTB2dzsKICBtYXJnaW46IDV2aCBhdXRvOwogIG1hcmdpbi10b3A6IDd2aDsKICBib3JkZXI6IDVweCBkYXNoZWQgd2hpdGU7CiAgYm9yZGVyLXJhZGl1czogMnZoOwogIGJhY2tncm91bmQtcmVwZWF0OiBuby1yZXBlYXQ7CiAgYmFja2dyb3VuZC1wb3NpdGlvbjogY2VudGVyOwogIHVzZXItc2VsZWN0OiBub25lOwoKICBpbWcgewogICAgaGVpZ2h0OiAzMCU7CiAgfQoKICAmOmhvdmVyIHsKICAgIGN1cnNvcjogcG9pbnRlcjsKICB9Cn0KCi5maWxlLW5hbWUgewogIGZvbnQtc2l6ZTogMS4zcmVtOwp9CgpAbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA3NTBweCkgewogIC5maWxlLWRyb3AgewogICAgd2lkdGg6IDcwdnc7CiAgICBoZWlnaHQ6IDI1dmg7CgogICAgaW1nIHsKICAgICAgaGVpZ2h0OiA0MCU7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["Demo.vue"],"names":[],"mappings":";AA2JA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"Demo.vue","sourceRoot":"src/views","sourcesContent":["<template>\n  <div>\n    <div class=\"nav-bar\">\n      <router-link class=\"logo\" to=\"/\">\n        <svg viewBox=\"0 0 50 100\" class=\"back\">\n          <path d=\"M50 0 L0 50 L50 100\" fill=\"transparent\" stroke=\"white\" stroke-width=\"10\" />\n        </svg>\n        <img src=\"@/assets/drishti.png\" alt=\"drishti logo\" />\n      </router-link>\n      <div class=\"btn-wrapper\">\n        <check-box\n          name=\"English Braille\"\n          :checked=\"lang === Language.Eng\"\n          @click=\"lang = Language.Eng\"\n        />\n        <check-box\n          name=\"Hindi Braille\"\n          :checked=\"lang === Language.Hin\"\n          @click=\"lang = Language.Hin\"\n        />\n      </div>\n    </div>\n    <main class=\"demo\">\n      <div\n        class=\"file-drop\"\n        title=\"Drag and drop or click to upload\"\n        @click=\"$refs.input.click()\"\n        @drop.prevent=\"addFile($event.dataTransfer.files)\"\n        @dragover.prevent\n      >\n        <img src=\"@/assets/upload.png\" alt=\"Upload a file\" />\n        <input\n          type=\"file\"\n          name=\"file\"\n          ref=\"input\"\n          @input=\"addFile($event.target.files)\"\n          style=\"display: none;\"\n        />\n      </div>\n      <p class=\"file-name\">{{ pValue }}</p>\n      <button\n        aria-label=\"Submit for translation\"\n        class=\"gbtn\"\n        type=\"submit\"\n        @click=\"convertPDF\"\n        :disabled=\"file === null\"\n      >\n        Submit\n      </button>\n      <p class=\"file-name\">{{ progress }}</p>\n      <a v-if=\"downloadLink.length\" download class=\"gbtn\" :href=\"`/${downloadLink}`\">\n        Download\n      </a>\n    </main>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport Vue from 'vue';\nimport { mapGetters } from 'vuex';\n\nimport CheckBox from '@/components/CheckBox.vue';\nimport client from '@/store/client';\nimport Language from '@/constants';\n\ninterface CData {\n  file: File | null;\n  progress: string;\n  downloadLink: string;\n  lang: Language;\n  Language: typeof Language;\n}\n\ninterface CMethods {\n  addFile: (files: File[]) => void;\n  convertPDF: () => void;\n}\n\ninterface CComputed {\n  pValue: string;\n  isLoggedin: boolean;\n}\n\nexport default Vue.extend<CData, CMethods, CComputed>({\n  name: 'demo',\n  data: () => ({\n    file: null,\n    progress: '',\n    downloadLink: '',\n    lang: Language.Eng,\n    Language,\n  }),\n  methods: {\n    async convertPDF() {\n      if (this.file === null) return;\n      try {\n        const data = new FormData();\n\n        data.append('file', this.file);\n\n        this.progress = 'Converting...';\n        this.downloadLink = '';\n\n        const headers: { [key: string]: any } = {};\n\n        const jwt = await client.authentication.getAccessToken();\n\n        if (jwt) {\n          headers.Authorization = `Bearer ${jwt}`;\n        }\n\n        const response = await fetch(`/braille?lang=${this.lang}`, {\n          method: 'POST',\n          body: data,\n          headers,\n        });\n\n        const resJSON = await response.json();\n\n        if (!response.ok) {\n          throw resJSON;\n        }\n\n        this.progress = '';\n        this.downloadLink = resJSON.route;\n      } catch (e) {\n        console.error(e);\n        this.progress = '';\n        this.$notify({\n          title: 'Failed to convert',\n          text: e.message,\n          type: 'error',\n        });\n      }\n    },\n    addFile([file]) {\n      this.file = file ?? null;\n    },\n  },\n  computed: {\n    ...mapGetters(['isLoggedin']),\n    pValue() {\n      if (this.file) {\n        return `Uploaded File: ${this.file.name}`;\n      }\n      return '';\n    },\n  },\n  components: {\n    CheckBox,\n  },\n});\n</script>\n\n<style lang=\"scss\" scoped>\n@import '@/styles/vars.scss';\n\n.demo {\n  @include flex-box($just: flex-start, $dir: column);\n\n  background: $gradient;\n  color: white;\n  height: var(--vh);\n  width: 100vw;\n  padding-top: 6rem;\n\n  .gbtn {\n    margin: 4vh 0;\n  }\n}\n\n.file-drop {\n  @include flex-box;\n  position: relative;\n  height: 40vh;\n  width: 50vw;\n  margin: 5vh auto;\n  margin-top: 7vh;\n  border: 5px dashed white;\n  border-radius: 2vh;\n  background-repeat: no-repeat;\n  background-position: center;\n  user-select: none;\n\n  img {\n    height: 30%;\n  }\n\n  &:hover {\n    cursor: pointer;\n  }\n}\n\n.file-name {\n  font-size: 1.3rem;\n}\n\n@media screen and (max-width: 750px) {\n  .file-drop {\n    width: 70vw;\n    height: 25vh;\n\n    img {\n      height: 40%;\n    }\n  }\n}\n</style>\n"]}]}